<div class="container py-4">
  <!-- Header Section -->
  <div class="header-section">
    <h1 class="title">{{evento?.nombre_evento}}</h1>

    <!-- Actions Container -->
    <div class="actions-wrapper">
      <button 
        *ngIf="mostrarCantidad" 
        class="btn btn-export" 
        (click)="exportAllToPdf2(evento)">
        <i class="bi bi-file-pdf-fill"></i>
        Exportar Entradas
      </button>

      <form class="generate-form" (submit)="generarEntradas()">
        <input
          type="number"
          class="form-control"
          placeholder="Cantidad a agregar"
          [(ngModel)]="cantidad_agregar"
          name="cantidad_agregar"
          required
        />
        <button type="submit" class="btn btn-generate">
          <i class="bi bi-plus-circle-fill"></i>
          Generar entradas
        </button>
      </form>
    </div>

    <div *ngIf="mostrarCantidad" class="tickets-count">
      <i class="bi bi-ticket-perforated-fill"></i>
      <span>Total de entradas: {{entradas?.length}}</span>
    </div>
  </div>

  <app-alert></app-alert>

  <!-- Tickets Grid -->
  <div class="tickets-container">
    <div class="tickets-grid">
      <div class="ticket-item" *ngFor="let entrada of entradas">
        <ng-container *ngIf="entrada.uuid">
          <div class="ticket-card">
            <div class="ticket-banner">
              <div class="ticket-icon">
                <i class="bi bi-ticket-perforated"></i>
              </div>
            </div>
            
            <div class="ticket-content">
              <h5 class="ticket-id">Entrada #{{ entrada.id }}</h5>
              
              <div class="ticket-status" [class.valid]="entrada.usado === 0" [class.invalid]="entrada.usado === 1">
                <i class="bi" [class.bi-check-circle-fill]="entrada.usado === 0" [class.bi-x-circle-fill]="entrada.usado === 1"></i>
                <span>{{ entrada.usado === 0 ? 'VÃ¡lida' : 'InvÃ¡lida' }}</span>
              </div>

              <div class="qr-wrapper">
                <qrcode 
                  [qrdata]="'http://192.168.0.11:8080/api/v1/validate/' + entrada.uuid"
                  [width]="150"
                  [errorCorrectionLevel]="'M'"
                ></qrcode>
              </div>

              <button class="btn btn-delete" (click)="eliminarEntrada(entrada)">
                <i class="bi bi-trash3-fill"></i>
                <span>Eliminar</span>
              </button>
            </div>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>